<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Diba Streetfood â€” Online Menu</title>

<style>
  :root{
    --bg:#fff7f2; 
    --primary:#ff5e3a; 
    --accent:#ffe1c4; 
    --card:#fff; 
    --muted:#555;
  }
  *{box-sizing:border-box;transition:.2s}
  body{margin:0;font-family:Inter,Arial;background:var(--bg);color:#111}

  header{
    background:var(--primary);
    color:#fff;
    padding:14px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    position:sticky;
    top:0;
    z-index:10;
  }
  header h1{margin:0;font-size:20px}

  .cart-btn{
    background:#fff;color:var(--primary);
    border:none;border-radius:10px;
    padding:6px 12px;font-weight:700;
    cursor:pointer;
  }

  .intro{text-align:center;padding:20px}
  .intro img{width:120px;border-radius:12px;margin-bottom:10px}

  .grid{
    display:grid;
    grid-template-columns:repeat(2,1fr);
    gap:12px;
    padding:14px;
  }
  @media(min-width:700px){
    .grid{grid-template-columns:repeat(3,1fr);}
  }

  .card{
    background:var(--card);
    border-radius:12px;
    padding:10px;
    box-shadow:0 4px 12px rgba(0,0,0,0.08);
  }
  .card img{
    width:100%;height:140px;
    object-fit:cover;border-radius:8px;
  }
  .title{font-weight:700;font-size:16px;margin-top:6px}
  .price{font-weight:800;color:var(--primary)}
  .btn{
    width:100%;
    margin-top:8px;
    padding:8px;
    background:var(--primary);
    border:none;
    color:#fff;
    border-radius:8px;
    cursor:pointer;
  }

  /* KERANJANG MODAL */
  .modal{
    position:fixed;inset:0;
    background:rgba(0,0,0,0.55);
    display:none;
    align-items:center;
    justify-content:center;
    padding:20px;
    z-index:100;
  }
  .modal-content{
    background:#fff;
    width:100%;max-width:400px;
    border-radius:12px;
    padding:16px;
  }
  .cart-item{display:flex;justify-content:space-between;padding:4px 0;font-size:14px}
  .close-btn{margin-top:10px;width:100%;padding:8px;border:none;border-radius:8px;background:#ccc}
  .checkout-btn{margin-top:10px;width:100%;padding:10px;border:none;border-radius:8px;background:var(--primary);color:#fff;font-weight:700}
</style>
</head>

<body>

<header>
  <h1>Diba Streetfood</h1>
  <button class="cart-btn" id="openCart">ðŸ›’ <span id="cartCount">0</span></button>
</header>

<div class="intro">
  <img src="https://i.ibb.co/8sqZJvw/streetfood.jpg">
  <p>Nikmati jajanan kaki lima terenak di kota, freshly cooked & full of flavor!</p>
</div>

<h2 style="padding-left:14px;">Menu</h2>

<div class="grid" id="menuList"></div>

<!-- POPUP KERANJANG -->
<div class="modal" id="cartModal">
  <div class="modal-content">
    <h3>Keranjang Belanja</h3>
    <div id="cartItems"></div>
    <p id="cartTotal" style="font-weight:bold;margin-top:10px;">Total: Rp 0</p>

    <button class="checkout-btn" id="checkoutBtn">Checkout via WhatsApp</button>
    <button class="close-btn" id="closeCart">Tutup</button>
  </div>
</div>

<script>
/* === PRODUK === */
const products = [
  {id:1, name:"Kentang Spiral", price:10000, img:"https://asset.kompas.com/crops/GtGcZqoT7MnNejKc8o9z2dHFLjs=/0x0:1000x667/1200x800/data/photo/2020/06/25/5ef4a042ce2de.jpg"},
  {id:2, name:"Sosis Bakar", price:8000, img:"https://d1d8o7q9jg8pjk.cloudfront.net/p/lg_6848e4c9ab7c9.jpeg"},
  {id:3, name:"Bakso Bakar", price:12000, img:"https://palpos.bacakoran.co/upload/00704466d168c3d0cf6f1a49346f826e.jpg"},
  {id:4, name:"Tahu Crispy", price:7000, img:"https://asset.kompas.com/crops/l4NugScakkpODgZXQXgld2_lnc0=/0x0:1000x667/1200x800/data/photo/2021/06/10/60c191379a00a.jpg"}
];

let cart = [];

/* === RENDER PRODUK === */
function showProducts(){
  const box = document.getElementById("menuList");
  box.innerHTML = "";
  products.forEach(p=>{
    box.innerHTML += `
      <div class="card">
        <img src="${p.img}">
        <div class="title">${p.name}</div>
        <div class="price">Rp ${p.price.toLocaleString()}</div>
        <button class="btn" onclick="addToCart(${p.id})">Tambah</button>
      </div>
    `;
  });
}
showProducts();

/* === KERANJANG === */
function addToCart(id){
  const item = cart.find(x=>x.id===id);
  const product = products.find(x=>x.id===id);

  if(item) item.qty++;
  else cart.push({...product, qty:1});

  updateCartCount();
}

function updateCartCount(){
  document.getElementById("cartCount").textContent = cart.reduce((a,b)=>a+b.qty,0);
}

/* === SHOW MODAL === */
document.getElementById("openCart").onclick = ()=>{
  renderCart();
  document.getElementById("cartModal").style.display = "flex";
};

/* === CLOSE MODAL === */
document.getElementById("closeCart").onclick = ()=>{
  document.getElementById("cartModal").style.display = "none";
};

/* === RENDER ITEM DI POPUP === */
function renderCart(){
  const box = document.getElementById("cartItems");
  box.innerHTML = "";

  let total = 0;

  cart.forEach(item=>{
    total += item.price * item.qty;
    box.innerHTML += `
      <div class="cart-item">
        <span>${item.name} Ã— ${item.qty}</span>
        <span>Rp ${(item.price * item.qty).toLocaleString()}</span>
      </div>
    `;
  });

  document.getElementById("cartTotal").textContent = 
    "Total: Rp " + total.toLocaleString();
}

/* === CHECKOUT === */
document.getElementById("checkoutBtn").onclick = ()=>{
  if(cart.length===0){
    alert("Keranjang kosong!");
    return;
  }

  let msg = "Halo, saya ingin pesan:%0A";
  cart.forEach(i=>{
    msg += `- ${i.name} x ${i.qty} = Rp ${(i.price*i.qty).toLocaleString()}%0A`;
  });

  const total = cart.reduce((a,b)=>a + b.price*b.qty,0);
  msg += `%0ATotal: Rp ${total.toLocaleString()}`;

  window.open(`https://wa.me/6285189745951?text=${msg}`, "_blank");
};
</script>

</body>
</html>
